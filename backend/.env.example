# Sonta Head Attendance System - Backend Environment Variables
# Copy this file to .env and fill in the values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_HOST=localhost
DATABASE_PORT=5433  # Use 5432 inside Docker network, 5433 for local development
DATABASE_USER=sonta
DATABASE_PASSWORD=sonta_password  # CHANGE IN PRODUCTION!
DATABASE_NAME=sonta_attendance

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6380  # Use 6379 inside Docker network, 6380 for local development

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# IMPORTANT: Generate strong random secrets for production!
# Use: openssl rand -base64 32

JWT_ACCESS_SECRET=dev-access-secret-key-change-in-production
JWT_REFRESH_SECRET=dev-refresh-secret-key-change-in-production

# Token expiration times (in seconds)
JWT_ACCESS_EXPIRATION=3600      # 1 hour
JWT_REFRESH_EXPIRATION=7776000  # 90 days

# =============================================================================
# QR CODE SECURITY
# =============================================================================
# Secret key for HMAC signing of QR codes
# IMPORTANT: Must be at least 32 characters, change in production!
QR_SECRET=dev-qr-signing-secret-change-in-production

# =============================================================================
# FACIAL RECOGNITION ENCRYPTION
# =============================================================================
# AES-256-GCM encryption key for facial embeddings
# CRITICAL: Must be EXACTLY 32 characters!
# Generate with: openssl rand -base64 32 | cut -c1-32
EMBEDDING_ENCRYPTION_KEY=dev-embedding-encryption-key-32chars

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=3000
NODE_ENV=development  # Use 'production' in production

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# Frontend URL for CORS configuration
FRONTEND_URL=http://localhost:3001

# =============================================================================
# AWS S3 STORAGE (Optional - for production file storage)
# =============================================================================
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=sonta-attendance-prod
# AWS_CLOUDFRONT_DOMAIN=https://d123456.cloudfront.net
# AWS_ACCESS_KEY_ID=AKIA...
# AWS_SECRET_ACCESS_KEY=...

# =============================================================================
# FACE-API.JS MODELS
# =============================================================================
# Path to face-api.js model files (default: ./models)
# FACE_API_MODELS_PATH=/app/models

# =============================================================================
# SUPER ADMIN SEED
# =============================================================================
# Email to auto-create as super_admin on first startup (skipped if already exists)
SUPER_ADMIN_EMAIL=your-email@example.com

# =============================================================================
# RESEND EMAIL
# =============================================================================
RESEND_API_KEY=re_your_api_key_here
EMAIL_FROM=onboarding@resend.dev

# =============================================================================
# PRODUCTION SECURITY NOTES
# =============================================================================
# Before deploying to production:
# 1. Generate all secrets with: openssl rand -base64 32
# 2. Ensure EMBEDDING_ENCRYPTION_KEY is exactly 32 characters
# 3. Change DATABASE_PASSWORD to a strong password
# 4. Update FRONTEND_URL to your production domain
# 5. Set NODE_ENV=production
# 6. Never commit .env files to version control!
